{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$id":  "https://raw.githubusercontent.com/Leonardo2718/omr/jaguar/jitbuilder/apigen/schema/api-service.schema.json",
    "title": "Project Jaguar: API Service Description Format",
    "description": "Format for specifying API services",
    "$comment": "Copyright (c) 2018 IBM Corp. and others (see LICENSE.md)",
    "$comment": "SPDX-License-Identifier: EPL-2.0 OR Apache-2.0 OR GPL-2.0 WITH Classpath-exception-2.0 OR LicenseRef-GPL-2.0 WITH Assembly-exception",
    "type": "object",
    "properties": {
        "doc": { "description": "inline documentation for the service", "type": "string" },
        "name": { "description": "the name of the service", "type": "string" },
        "overloadsuffix": { "description": "suffix to add to based name when overloading is not supported", "type": "string" },
        "return": { "description": "return type of the service", "$ref": "api-type.schema.json" },
        "parms": {
            "description": "description of parameters of the service",
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "name": { "type": "string" },
                    "type": { "$ref": "api-type.schema.json" },
                    "attributes": { "enum": [ "in_out", "can_be_vararg" ] }
                },
                "required": [ "name", "type" ]
            }
        },
        "flags": {
            "description": "flags for the API service",
            "type": "array",
            "items": { "enum": [ "protected", "public", "static", "virtual", "callback", "create_impl", "is_overidden" ] }
        }
    },
    "required": [ "name", "overloadsuffix", "return", "parms", "flags" ]
}
